<!DOCTYPE html>
<html xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
      xmlns:th="http://www.thymeleaf.org">
    <head th:fragment="headerr(title)">
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="IE=edge" http-equiv="X-UA-Compatible">
        <meta content="" name="keywords">
        <meta content="" name="description">
        <title th:text="${title}"></title>
        <link rel="stylesheet" th:href="@{/static/css/pear.css}">
    </head>

    <div th:fragment="static">
        <script th:src="@{/static/layui/layui.js}"></script>
        <link rel="stylesheet" th:href="@{/static/layui/css/layui.css}" type="text/css"/>
        <link rel="stylesheet" th:href="@{/static/css/myStyle.css}" type="text/css"/>
    </div>

    <!-- 通用JS -->
    <div th:fragment="footer">
        <script> let rootPath = "[[${rootPath}]]";</script>
        <script th:src="@{/static/layui/layui.js}"></script>
        <script th:src="@{/static/js/pear.js}"></script>
        <script th:src="@{/static/js/jquery.min.js}"></script>
    </div>

    <head>
        <meta charset="UTF-8">
        <title>Title</title>
    </head>
    <body>


        <script th:fragment="layelement">
            layui.use('element', function () {
                var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块

                //监听导航点击
                element.on('nav(demo)', function (elem) {
                    //console.log(elem)
                    //layer.msg(elem.text());
                });
            });
        </script>


        <ul class="layui-nav" th:fragment="header">
            <li class="layui-nav-item">
                <a href="/index">
                    Auto_Helper
                </a>
            </li>
            <li class="layui-nav-item">
                <a href="javascript:">自动任务列表</a>
                <dl class="layui-nav-child">
                    <dd><a href="/bili/index">bilibili-Helper</a></dd>
                    <dd><a href="/netmusic/index">netmusic-Helper</a></dd>
                    <dd><a href="/mihuyou/index">genshin-helper</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                <a href="javascript:">自动任务管理</a>
                <dl class="layui-nav-child">
                    <dd><a th:href="@{/admin/job/view}">定时任务管理</a></dd>
                    <dd><a th:href="@{/admin/joblog/view}">定时任务日志查看</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item" sec:authorize="hasRole('ROLE_USER')">
                <a href="javascript:">欢迎你 [[${session.SPRING_SECURITY_CONTEXT.authentication.principal.username}]]</a>
                <dl class="layui-nav-child">
                    <dd><a th:href="@{/my}">我的任务</a></dd>
                    <hr>
                    <dd><a th:href="@{/logout}">注销</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item" sec:authorize="!hasRole('ROLE_USER')">
                <a th:href="@{/login}">登录</a>
            </li>
            <li class="layui-nav-item" sec:authorize="!hasRole('ROLE_USER')">
                <a th:href="@{/reg}">注册</a>
            </li>

        </ul>


        <!--<div class="container" >-->
        <!--    <div class="navbar-header">-->
        <!--        <a class="navbar-brand" href="#">oldwu Auto_Helper</a>-->
        <!--    </div>-->
        <!--    <div class="collapse navbar-collapse" id="navbar">-->
        <!--        <ul class="nav navbar-nav">-->
        <!--            <li><a th:href="@{/index}"> 首页 </a></li>-->
        <!--            <li><a th:href="@{/bili/index}"> bilibili-Helper </a></li>-->
        <!--            <li><a th:href="@{/netmusic/index}"> netmusic-Helper </a></li>-->
        <!--            <li sec:authorize="hasRole('ROLE_ADMIN')">-->
        <!--                <a th:href="@{/admin/job/view}"> 定时任务管理 </a>-->
        <!--            </li>-->
        <!--            <li sec:authorize="hasRole('ROLE_ADMIN')">-->
        <!--                <a th:href="@{/admin/joblog/view}"> 定时任务日志查看 </a>-->
        <!--            </li>-->
        <!--        </ul>-->
        <!--        <ul sec:authorize="!hasRole('ROLE_USER')" class="nav navbar-nav pull-right">-->
        <!--            <li><a th:href="@{/login}"> 登录 </a></li>-->
        <!--            <li><a th:href="@{/reg}"> 注册 </a></li>-->
        <!--        </ul>-->
        <!--        <ul sec:authorize="hasRole('ROLE_USER')" class="nav navbar-nav pull-right">-->
        <!--            <li>-->
        <!--                <a th:text="欢迎你 + ${session.SPRING_SECURITY_CONTEXT.authentication.principal.username}" href="my"></a>-->
        <!--            </li>-->
        <!--            <li><a href="/logout"> 注销 </a></li>-->
        <!--        </ul>-->
        <!--    </div>-->
        <!--</div>-->
    </body>
</html>